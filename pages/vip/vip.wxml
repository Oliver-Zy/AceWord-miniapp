<wxs module="tools" src="./vip.wxs"></wxs>
<!-- wxs -->

<!-- S container -->
<view class="container">

  <!-- S background-container -->
  <view class="background-container" style="width:{{bgContainerWidth}}px;height:{{bgContainerHeight}}px;position:fixed;top:{{naviBarHeight + 16}}px;">
    <view class="avatar-group">
      <image class="avatar-img" src="{{avatarUrl == null ? './images/avatar.png' : avatarUrl}}"></image>
      <view class="right-avatar-group">
        <text class="right-avatar-group-text">{{nickName == '' ? '点击登录' : nickName}}</text>
        <view class="down-right-avatar-group">
          <text class="down-right-avatar-group-text">{{vipExpireDate == '00000000' ? '尚未开通会员' : '有效期至' + tools.formatCreateDate(vipExpireDate)}}</text>
        </view>
      </view>
    </view>
    <image src="./images/background.png" style="width:{{bgContainerWidth}}px;height:{{bgContainerHeight}}px;" class="background-img"></image>
  </view>
  <!-- E background-container -->

  <!-- S scroll-view -->
  <scroll-view scroll-y="true" style="padding-top:24px;height:{{scrollViewHeight}}px;position:fixed;top:{{naviBarHeight + 16 + 120}}px;background:#fff;border-radius:16px;padding-left:16px;box-sizing:border-box;">
    <text wx:if="{{ !isIOS }}" class="title-text">解锁会员</text>
    <view wx:if="{{ !isIOS }}" style="height:20px;"></view>
    <!-- <view wx:if="{{ !isIOS }}" class="price-container" style="width:{{bgContainerWidth}}px;"> -->
    <!-- <text class="title-text">解锁会员</text>
    <view style="height:20px;"></view> -->
    <!-- 会员方案 -->
    <view class="price-container" style="width:{{bgContainerWidth}}px;">
      <!-- 永久会员 -->
      <view class="price-block{{chosenIndex == 0 ? '-chosen' : ''}}" style="flex:1;" bind:tap="onPriceBlock" data-index="0">
        <text class="desc-text">永久会员</text>
        <view style="height:6px;"></view>
        <view style="position:relative;right:4px;">
          <image src="./images/rmb.png" style="width:16px;height:14px;"></image>
          <text class="price-text">128</text>
        </view>
        <view style="height:6px;"></view>
        <text class="original-price">￥298</text>
        <view style="height:10px;"></view>
        <view class="lable">
          <text class="lable-text">限时特惠</text>
        </view>
        <image wx:if="{{chosenIndex == 0}}" src="./images/check.png" style="width:24px;height:20px;position:absolute;top:-1px;right:-1px;"></image>
      </view>

      <!-- 年度会员 -->
      <view class="price-block{{chosenIndex == 1 ? '-chosen' : ''}}" style="flex:1;" bind:tap="onPriceBlock" data-index="1">
        <text class="desc-text">年度会员</text>
        <view style="height:6px;"></view>
        <view style="position: relative;right: 4px;">
          <image src="./images/rmb.png" style="width:16px;height:14px;"></image>
          <text class="price-text">88</text>
        </view>
        <view style="height:6px;"></view>
        <text class="original-price">￥168</text>
        <view style="height:10px;"></view>
        <view class="lable">
          <text class="lable-text">7.3元/月</text>
        </view>
        <image wx:if="{{chosenIndex == 1}}" src="./images/check.png" style="width:24px;height:20px;position:absolute;top:-1px;right:-1px;"></image>
      </view>

      <!-- 月度会员 -->
      <view class="price-block{{chosenIndex == 2 ? '-chosen' : ''}}" style="flex:1;" bind:tap="onPriceBlock" data-index="2">
        <text class="desc-text">月度会员</text>
        <view style="height:6px;"></view>
        <view style="position: relative;right: 4px;">
          <image src="./images/rmb.png" style="width:16px;height:14px;"></image>
          <text class="price-text">35</text>
        </view>
        <view style="height:6px;"></view>
        <text class="original-price">￥45</text>
        <view style="height:34px;"></view>
        <image wx:if="{{chosenIndex == 2}}" src="./images/check.png" style="width:24px;height:20px;position:absolute;top:-1px;right:-1px;"></image>
      </view>
    </view>



    <view style="height:24px;"></view>
    <view class="pay-btn" style="width:{{bgContainerWidth}}px;height:52px;" bind:tap="onPay">
      <text wx:if="{{ !isIOS }}" class="pay-btn-text">立即以{{chosenIndex == 0 ? 128 : chosenIndex == 1 ? 88 : 35}}元开通</text>
      <text wx:else class="pay-btn-text">现在开通</text>
    </view>
    <view wx:if="{{ !isIOS }}" style="padding-top:12px;width:100%;display:flex;justify-content:center;">

      <!-- <view style="padding-top:12px;width:100%;display:flex;justify-content:center;"> -->
      <text style="font-size:14px;color:#787878;">开通代表接受</text>
      <text style="font-size:14px;color:#BB8247;" bind:tap="onVipProtocol">《AceWord会员协议》</text>
    </view>

    <!-- <view wx:if="{{ !isIOS }}" style="height:24px;"></view> -->
    <view style="height:24px;"></view>
    <text class="title-text">会员特权</text>
    <view style="height:20px;"></view>

    <!-- 核心特权 -->
    <view class="feature-container">
      <image src="./images/feature-1.png" style="width:40px;height:40px;"></image>
      <view style="width:14px;"></view>
      <view class="right-feature-container">
        <text class="feature-title">无限卡片创建</text>
        <view style="height:2px;"></view>
        <text class="feature-desc">告别每日10张限制，想学多少学多少</text>
      </view>
    </view>

    <view style="height:24px;"></view>
    <view class="feature-container">
      <image src="./images/feature-3.png" style="width:40px;height:40px;"></image>
      <view style="width:14px;"></view>
      <view class="right-feature-container">
        <text class="feature-title">无限词书管理</text>
        <view style="height:2px;"></view>
        <text class="feature-desc">创建专属单词本和自定义词书，数量无上限</text>
      </view>
    </view>

    <!-- 高级功能 -->
    <view style="height:32px;"></view>
    <text class="feature-section-title">高级学习功能</text>
    <view style="height:16px;"></view>

    <view class="feature-container">
      <image src="./images/feature-6.png" style="width:40px;height:40px;"></image>
      <view style="width:14px;"></view>
      <view class="right-feature-container">
        <text class="feature-title">批量导入释义</text>
        <view style="height:2px;"></view>
        <text class="feature-desc">一键批量导入自定义释义，效率翻倍</text>
      </view>
    </view>

    <view style="height:24px;"></view>
    <view class="feature-container">
      <image src="./images/feature-2.png" style="width:40px;height:40px;"></image>
      <view style="width:14px;"></view>
      <view class="right-feature-container">
        <text class="feature-title">智能复习节奏</text>
        <view style="height:2px;"></view>
        <text class="feature-desc">自定义复习倒计时，打造专属学习节奏</text>
      </view>
    </view>

    <!-- 个性化定制 -->
    <view style="height:32px;"></view>
    <text class="feature-section-title">个性化定制</text>
    <view style="height:16px;"></view>

    <view class="feature-container">
      <image src="./images/feature-4.png" style="width:40px;height:40px;"></image>
      <view style="width:14px;"></view>
      <view class="right-feature-container">
        <text class="feature-title">精美英文字体</text>
        <view style="height:2px;"></view>
        <text class="feature-desc">8种专业字体随心切换，让学习更赏心悦目</text>
      </view>
    </view>

    <view style="height:24px;"></view>
    <view class="feature-container">
      <image src="./images/feature-5.png" style="width:40px;height:40px;"></image>
      <view style="width:14px;"></view>
      <view class="right-feature-container">
        <text class="feature-title">多彩背景标记</text>
        <view style="height:2px;"></view>
        <text class="feature-desc">丰富背景色标记，让重点单词一目了然</text>
      </view>
    </view>
    <view style="height:24px;padding-bottom:env(safe-area-inset-bottom);"></view>
  </scroll-view>
  <!-- E scroll-view -->

</view>
<!-- S container -->

<!-- S ace-components -->
<ace-navi-bar type="vip" title="开通会员" backgroundColor="rgba(0,0,0,0)" style="width:100%;position:fixed;top:0;" />
<!-- E ace-components -->

<!-- S vant components -->
<van-toast id="van-toast" />
<!-- E vant components -->